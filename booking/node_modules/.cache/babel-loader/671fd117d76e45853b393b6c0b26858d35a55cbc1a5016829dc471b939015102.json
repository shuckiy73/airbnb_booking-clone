{"ast":null,"code":"var _jsxFileName = \"K:\\\\Booking2\\\\airbnb_booking-clone\\\\booking\\\\src\\\\Components\\\\General page\\\\NavigateHeader.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, Link, Routes, Route } from \"react-router-dom\";\nimport ProfilePage from \"../Authorization/ProfilePage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NavigateHeader = () => {\n  _s();\n  const navigate = useNavigate();\n  const API_LOGOUT = \"http://127.0.0.1:8000/api/v1/auth/token/logout/\";\n  const API_REFRESH = \"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";\n  const API_VERIFY = \"http://127.0.0.1:8000/api/v1/auth/token/verify/\";\n  const [username, setUsername] = useState(\"\");\n  const [userId, setUserId] = useState(null);\n\n  // Функция для декодирования JWT токена\n  const parseJwt = token => {\n    if (!token) return null;\n    try {\n      const base64Url = token.split(\".\")[1];\n      const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n      const jsonPayload = decodeURIComponent(atob(base64).split(\"\").map(c => `%${(\"00\" + c.charCodeAt(0).toString(16)).slice(-2)}`).join(\"\"));\n      return JSON.parse(jsonPayload);\n    } catch (error) {\n      console.error(\"Ошибка при декодировании токена:\", error);\n      return null;\n    }\n  };\n\n  // Проверка авторизации и получение данных пользователя\n  useEffect(() => {\n    const authToken = sessionStorage.getItem(\"auth_token\");\n    if (authToken) {\n      const tokens = JSON.parse(authToken);\n      const decodedToken = parseJwt(tokens.refresh);\n      if (decodedToken) {\n        setUsername(decodedToken.username);\n        setUserId(decodedToken.user_id);\n      }\n    }\n  }, []);\n\n  // Обновление токенов\n  const resetTokens = async refreshToken => {\n    try {\n      const response = await fetch(API_REFRESH, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"*/*\"\n        },\n        body: JSON.stringify({\n          refresh: refreshToken\n        })\n      });\n      if (response.ok) {\n        const newTokens = await response.json();\n        sessionStorage.setItem(\"auth_token\", JSON.stringify({\n          ...newTokens,\n          refresh: refreshToken\n        }));\n      } else {\n        sessionStorage.removeItem(\"auth_token\");\n        navigate(\"/login\");\n      }\n    } catch (error) {\n      console.error(\"Ошибка при обновлении токенов:\", error);\n    }\n  };\n\n  // Проверка валидности токена\n  const verifyToken = async (accessToken, refreshToken) => {\n    try {\n      const response = await fetch(API_VERIFY, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"*/*\"\n        },\n        body: JSON.stringify({\n          token: accessToken\n        })\n      });\n      if (response.ok) {\n        return true;\n      } else {\n        await resetTokens(refreshToken);\n        return false;\n      }\n    } catch (error) {\n      console.error(\"Ошибка при проверке токена:\", error);\n      return false;\n    }\n  };\n\n  // Выход из системы\n  const logout = async () => {\n    const authToken = sessionStorage.getItem(\"auth_token\");\n    if (!authToken) {\n      navigate(\"/login\");\n      return;\n    }\n    const tokens = JSON.parse(authToken);\n    const isValid = await verifyToken(tokens.access, tokens.refresh);\n    if (!isValid) return;\n    try {\n      const response = await fetch(API_LOGOUT, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"*/*\",\n          Authorization: `Bearer ${tokens.access}`\n        },\n        body: JSON.stringify({\n          refresh_token: tokens.refresh\n        })\n      });\n      if (response.ok) {\n        sessionStorage.removeItem(\"auth_token\");\n        navigate(0); // Перезагрузка страницы\n      } else {\n        console.error(\"Ошибка при выходе из системы:\", response.statusText);\n      }\n    } catch (error) {\n      console.error(\"Ошибка при выходе из системы:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container justify-content-sm-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"navbar-toggler\",\n          type: \"button\",\n          \"data-bs-toggle\": \"collapse\",\n          \"data-bs-target\": \"#navbarTogglerDemo01\",\n          \"aria-controls\": \"navbarTogglerDemo01\",\n          \"aria-expanded\": \"false\",\n          \"aria-label\": \"\\u041F\\u0435\\u0440\\u0435\\u043A\\u043B\\u044E\\u0447\\u0430\\u0442\\u0435\\u043B\\u044C \\u043D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u0438\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-toggler-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"collapse navbar-collapse\",\n          id: \"navbarTogglerDemo01\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"navbar-brand\",\n            to: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"logo\",\n              src: \"../../image/logo/kvartirnik_logo.png\",\n              width: \"150\",\n              height: \"70\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav me-auto mb-2 mb-lg-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"nav-link\",\n                to: \"/\",\n                children: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"nav-link\",\n                to: \"#\",\n                children: \"\\u0417\\u0430\\u0440\\u0430\\u0431\\u0430\\u0442\\u044B\\u0432\\u0430\\u0439\\u0442\\u0435 \\u043D\\u0430 \\u0441\\u0434\\u0430\\u0447\\u0435 \\u0436\\u0438\\u043B\\u044C\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"nav-link\",\n                to: \"/search\",\n                children: \"\\u0411\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"nav-link\",\n                to: \"#\",\n                children: \"\\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), sessionStorage.getItem(\"auth_token\") ? /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link dropdown-toggle\",\n                href: \"#\",\n                id: \"navbarDropdownMenuLink\",\n                role: \"button\",\n                \"data-bs-toggle\": \"dropdown\",\n                \"aria-expanded\": \"false\",\n                children: [username, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge text-bg-secondary\",\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 32\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"dropdown-menu\",\n                \"aria-labelledby\": \"navbarDropdownMenuLink\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    className: \"dropdown-item\",\n                    to: `/profile/${userId}`,\n                    children: \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"dropdown-item\",\n                    children: \"\\u041E\\u043F\\u043E\\u0432\\u0435\\u0449\\u0435\\u043D\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"hr\", {\n                    className: \"dropdown-divider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dropdown-item\",\n                    onClick: logout,\n                    children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"nav-link\",\n                to: \"/login\",\n                children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile/:id\",\n        element: /*#__PURE__*/_jsxDEV(ProfilePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n_s(NavigateHeader, \"h05VKGBr8HePxQhyWyO8VDtXoVk=\", false, function () {\n  return [useNavigate];\n});\n_c = NavigateHeader;\nexport default NavigateHeader;\nvar _c;\n$RefreshReg$(_c, \"NavigateHeader\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","Routes","Route","ProfilePage","jsxDEV","_jsxDEV","NavigateHeader","_s","navigate","API_LOGOUT","API_REFRESH","API_VERIFY","username","setUsername","userId","setUserId","parseJwt","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","error","console","authToken","sessionStorage","getItem","tokens","decodedToken","refresh","user_id","resetTokens","refreshToken","response","fetch","method","headers","Accept","body","stringify","ok","newTokens","json","setItem","removeItem","verifyToken","accessToken","logout","isValid","access","Authorization","refresh_token","statusText","className","children","type","fileName","_jsxFileName","lineNumber","columnNumber","id","to","alt","src","width","height","href","role","onClick","path","element","_c","$RefreshReg$"],"sources":["K:/Booking2/airbnb_booking-clone/booking/src/Components/General page/NavigateHeader.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, Link, Routes, Route } from \"react-router-dom\";\r\nimport ProfilePage from \"../Authorization/ProfilePage\";\r\n\r\nconst NavigateHeader = () => {\r\n  const navigate = useNavigate();\r\n  const API_LOGOUT = \"http://127.0.0.1:8000/api/v1/auth/token/logout/\";\r\n  const API_REFRESH = \"http://127.0.0.1:8000/api/v1/auth/token/refresh/\";\r\n  const API_VERIFY = \"http://127.0.0.1:8000/api/v1/auth/token/verify/\";\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [userId, setUserId] = useState(null);\r\n\r\n  // Функция для декодирования JWT токена\r\n  const parseJwt = (token) => {\r\n    if (!token) return null;\r\n    try {\r\n      const base64Url = token.split(\".\")[1];\r\n      const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n      const jsonPayload = decodeURIComponent(\r\n        atob(base64)\r\n          .split(\"\")\r\n          .map((c) => `%${(\"00\" + c.charCodeAt(0).toString(16)).slice(-2)}`)\r\n          .join(\"\")\r\n      );\r\n      return JSON.parse(jsonPayload);\r\n    } catch (error) {\r\n      console.error(\"Ошибка при декодировании токена:\", error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Проверка авторизации и получение данных пользователя\r\n  useEffect(() => {\r\n    const authToken = sessionStorage.getItem(\"auth_token\");\r\n    if (authToken) {\r\n      const tokens = JSON.parse(authToken);\r\n      const decodedToken = parseJwt(tokens.refresh);\r\n      if (decodedToken) {\r\n        setUsername(decodedToken.username);\r\n        setUserId(decodedToken.user_id);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Обновление токенов\r\n  const resetTokens = async (refreshToken) => {\r\n    try {\r\n      const response = await fetch(API_REFRESH, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"*/*\",\r\n        },\r\n        body: JSON.stringify({ refresh: refreshToken }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const newTokens = await response.json();\r\n        sessionStorage.setItem(\r\n          \"auth_token\",\r\n          JSON.stringify({ ...newTokens, refresh: refreshToken })\r\n        );\r\n      } else {\r\n        sessionStorage.removeItem(\"auth_token\");\r\n        navigate(\"/login\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Ошибка при обновлении токенов:\", error);\r\n    }\r\n  };\r\n\r\n  // Проверка валидности токена\r\n  const verifyToken = async (accessToken, refreshToken) => {\r\n    try {\r\n      const response = await fetch(API_VERIFY, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"*/*\",\r\n        },\r\n        body: JSON.stringify({ token: accessToken }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        return true;\r\n      } else {\r\n        await resetTokens(refreshToken);\r\n        return false;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Ошибка при проверке токена:\", error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Выход из системы\r\n  const logout = async () => {\r\n    const authToken = sessionStorage.getItem(\"auth_token\");\r\n    if (!authToken) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const tokens = JSON.parse(authToken);\r\n    const isValid = await verifyToken(tokens.access, tokens.refresh);\r\n    if (!isValid) return;\r\n\r\n    try {\r\n      const response = await fetch(API_LOGOUT, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"*/*\",\r\n          Authorization: `Bearer ${tokens.access}`,\r\n        },\r\n        body: JSON.stringify({ refresh_token: tokens.refresh }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        sessionStorage.removeItem(\"auth_token\");\r\n        navigate(0); // Перезагрузка страницы\r\n      } else {\r\n        console.error(\"Ошибка при выходе из системы:\", response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Ошибка при выходе из системы:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container justify-content-sm-center\">\r\n      <nav className=\"navbar navbar-expand-lg navbar-light\">\r\n        <div className=\"container-fluid\">\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarTogglerDemo01\"\r\n            aria-controls=\"navbarTogglerDemo01\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Переключатель навигации\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\r\n            <Link className=\"navbar-brand\" to=\"/\">\r\n              <img\r\n                alt=\"logo\"\r\n                src=\"../../image/logo/kvartirnik_logo.png\"\r\n                width=\"150\"\r\n                height=\"70\"\r\n              />\r\n            </Link>\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/\">\r\n                  Главная\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"#\">\r\n                  Зарабатывайте на сдаче жилья\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/search\">\r\n                  Бронирование\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"#\">\r\n                  Избранное\r\n                </Link>\r\n              </li>\r\n              {sessionStorage.getItem(\"auth_token\") ? (\r\n                <li className=\"nav-item dropdown\">\r\n                  <a\r\n                    className=\"nav-link dropdown-toggle\"\r\n                    href=\"#\"\r\n                    id=\"navbarDropdownMenuLink\"\r\n                    role=\"button\"\r\n                    data-bs-toggle=\"dropdown\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    {username} <span className=\"badge text-bg-secondary\">4</span>\r\n                  </a>\r\n                  <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\r\n                    <li>\r\n                      <Link className=\"dropdown-item\" to={`/profile/${userId}`}>\r\n                        Профиль\r\n                      </Link>\r\n                    </li>\r\n                    <li>\r\n                      <span className=\"dropdown-item\">Оповещения</span>\r\n                    </li>\r\n                    <li>\r\n                      <hr className=\"dropdown-divider\" />\r\n                    </li>\r\n                    <li>\r\n                      <button className=\"dropdown-item\" onClick={logout}>\r\n                        Выйти\r\n                      </button>\r\n                    </li>\r\n                  </ul>\r\n                </li>\r\n              ) : (\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/login\">\r\n                    Войти\r\n                  </Link>\r\n                </li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <Routes>\r\n        <Route path=\"/profile/:id\" element={<ProfilePage />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavigateHeader;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,QAAQ,kBAAkB;AACnE,OAAOC,WAAW,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAMU,UAAU,GAAG,iDAAiD;EACpE,MAAMC,WAAW,GAAG,kDAAkD;EACtE,MAAMC,UAAU,GAAG,iDAAiD;EAEpE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,MAAM,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;;EAE1C;EACA,MAAMkB,QAAQ,GAAIC,KAAK,IAAK;IAC1B,IAAI,CAACA,KAAK,EAAE,OAAO,IAAI;IACvB,IAAI;MACF,MAAMC,SAAS,GAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACrC,MAAMC,MAAM,GAAGF,SAAS,CAACG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;MAC9D,MAAMC,WAAW,GAAGC,kBAAkB,CACpCC,IAAI,CAACJ,MAAM,CAAC,CACTD,KAAK,CAAC,EAAE,CAAC,CACTM,GAAG,CAAEC,CAAC,IAAK,IAAI,CAAC,IAAI,GAAGA,CAAC,CAACC,UAAU,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,EAAEC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CACjEC,IAAI,CAAC,EAAE,CACZ,CAAC;MACD,OAAOC,IAAI,CAACC,KAAK,CAACV,WAAW,CAAC;IAChC,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MACxD,OAAO,IAAI;IACb;EACF,CAAC;;EAED;EACApC,SAAS,CAAC,MAAM;IACd,MAAMsC,SAAS,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IACtD,IAAIF,SAAS,EAAE;MACb,MAAMG,MAAM,GAAGP,IAAI,CAACC,KAAK,CAACG,SAAS,CAAC;MACpC,MAAMI,YAAY,GAAGvB,QAAQ,CAACsB,MAAM,CAACE,OAAO,CAAC;MAC7C,IAAID,YAAY,EAAE;QAChB1B,WAAW,CAAC0B,YAAY,CAAC3B,QAAQ,CAAC;QAClCG,SAAS,CAACwB,YAAY,CAACE,OAAO,CAAC;MACjC;IACF;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,WAAW,GAAG,MAAOC,YAAY,IAAK;IAC1C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACnC,WAAW,EAAE;QACxCoC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,MAAM,EAAE;QACV,CAAC;QACDC,IAAI,EAAElB,IAAI,CAACmB,SAAS,CAAC;UAAEV,OAAO,EAAEG;QAAa,CAAC;MAChD,CAAC,CAAC;MAEF,IAAIC,QAAQ,CAACO,EAAE,EAAE;QACf,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QACvCjB,cAAc,CAACkB,OAAO,CACpB,YAAY,EACZvB,IAAI,CAACmB,SAAS,CAAC;UAAE,GAAGE,SAAS;UAAEZ,OAAO,EAAEG;QAAa,CAAC,CACxD,CAAC;MACH,CAAC,MAAM;QACLP,cAAc,CAACmB,UAAU,CAAC,YAAY,CAAC;QACvC/C,QAAQ,CAAC,QAAQ,CAAC;MACpB;IACF,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;EACF,CAAC;;EAED;EACA,MAAMuB,WAAW,GAAG,MAAAA,CAAOC,WAAW,EAAEd,YAAY,KAAK;IACvD,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAClC,UAAU,EAAE;QACvCmC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,MAAM,EAAE;QACV,CAAC;QACDC,IAAI,EAAElB,IAAI,CAACmB,SAAS,CAAC;UAAEjC,KAAK,EAAEwC;QAAY,CAAC;MAC7C,CAAC,CAAC;MAEF,IAAIb,QAAQ,CAACO,EAAE,EAAE;QACf,OAAO,IAAI;MACb,CAAC,MAAM;QACL,MAAMT,WAAW,CAACC,YAAY,CAAC;QAC/B,OAAO,KAAK;MACd;IACF,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnD,OAAO,KAAK;IACd;EACF,CAAC;;EAED;EACA,MAAMyB,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,MAAMvB,SAAS,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IACtD,IAAI,CAACF,SAAS,EAAE;MACd3B,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IAEA,MAAM8B,MAAM,GAAGP,IAAI,CAACC,KAAK,CAACG,SAAS,CAAC;IACpC,MAAMwB,OAAO,GAAG,MAAMH,WAAW,CAAClB,MAAM,CAACsB,MAAM,EAAEtB,MAAM,CAACE,OAAO,CAAC;IAChE,IAAI,CAACmB,OAAO,EAAE;IAEd,IAAI;MACF,MAAMf,QAAQ,GAAG,MAAMC,KAAK,CAACpC,UAAU,EAAE;QACvCqC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,MAAM,EAAE,KAAK;UACba,aAAa,EAAE,UAAUvB,MAAM,CAACsB,MAAM;QACxC,CAAC;QACDX,IAAI,EAAElB,IAAI,CAACmB,SAAS,CAAC;UAAEY,aAAa,EAAExB,MAAM,CAACE;QAAQ,CAAC;MACxD,CAAC,CAAC;MAEF,IAAII,QAAQ,CAACO,EAAE,EAAE;QACff,cAAc,CAACmB,UAAU,CAAC,YAAY,CAAC;QACvC/C,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,MAAM;QACL0B,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEW,QAAQ,CAACmB,UAAU,CAAC;MACrE;IACF,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD;EACF,CAAC;EAED,oBACE5B,OAAA;IAAK2D,SAAS,EAAC,qCAAqC;IAAAC,QAAA,gBAClD5D,OAAA;MAAK2D,SAAS,EAAC,sCAAsC;MAAAC,QAAA,eACnD5D,OAAA;QAAK2D,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B5D,OAAA;UACE2D,SAAS,EAAC,gBAAgB;UAC1BE,IAAI,EAAC,QAAQ;UACb,kBAAe,UAAU;UACzB,kBAAe,sBAAsB;UACrC,iBAAc,qBAAqB;UACnC,iBAAc,OAAO;UACrB,cAAW,uIAAyB;UAAAD,QAAA,eAEpC5D,OAAA;YAAM2D,SAAS,EAAC;UAAqB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eAETjE,OAAA;UAAK2D,SAAS,EAAC,0BAA0B;UAACO,EAAE,EAAC,qBAAqB;UAAAN,QAAA,gBAChE5D,OAAA,CAACL,IAAI;YAACgE,SAAS,EAAC,cAAc;YAACQ,EAAE,EAAC,GAAG;YAAAP,QAAA,eACnC5D,OAAA;cACEoE,GAAG,EAAC,MAAM;cACVC,GAAG,EAAC,sCAAsC;cAC1CC,KAAK,EAAC,KAAK;cACXC,MAAM,EAAC;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACPjE,OAAA;YAAI2D,SAAS,EAAC,iCAAiC;YAAAC,QAAA,gBAC7C5D,OAAA;cAAI2D,SAAS,EAAC,UAAU;cAAAC,QAAA,eACtB5D,OAAA,CAACL,IAAI;gBAACgE,SAAS,EAAC,UAAU;gBAACQ,EAAE,EAAC,GAAG;gBAAAP,QAAA,EAAC;cAElC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLjE,OAAA;cAAI2D,SAAS,EAAC,UAAU;cAAAC,QAAA,eACtB5D,OAAA,CAACL,IAAI;gBAACgE,SAAS,EAAC,UAAU;gBAACQ,EAAE,EAAC,GAAG;gBAAAP,QAAA,EAAC;cAElC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLjE,OAAA;cAAI2D,SAAS,EAAC,UAAU;cAAAC,QAAA,eACtB5D,OAAA,CAACL,IAAI;gBAACgE,SAAS,EAAC,UAAU;gBAACQ,EAAE,EAAC,SAAS;gBAAAP,QAAA,EAAC;cAExC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLjE,OAAA;cAAI2D,SAAS,EAAC,UAAU;cAAAC,QAAA,eACtB5D,OAAA,CAACL,IAAI;gBAACgE,SAAS,EAAC,UAAU;gBAACQ,EAAE,EAAC,GAAG;gBAAAP,QAAA,EAAC;cAElC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,EACJlC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC,gBACnChC,OAAA;cAAI2D,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAC/B5D,OAAA;gBACE2D,SAAS,EAAC,0BAA0B;gBACpCa,IAAI,EAAC,GAAG;gBACRN,EAAE,EAAC,wBAAwB;gBAC3BO,IAAI,EAAC,QAAQ;gBACb,kBAAe,UAAU;gBACzB,iBAAc,OAAO;gBAAAb,QAAA,GAEpBrD,QAAQ,EAAC,GAAC,eAAAP,OAAA;kBAAM2D,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,EAAC;gBAAC;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CAAC,eACJjE,OAAA;gBAAI2D,SAAS,EAAC,eAAe;gBAAC,mBAAgB,wBAAwB;gBAAAC,QAAA,gBACpE5D,OAAA;kBAAA4D,QAAA,eACE5D,OAAA,CAACL,IAAI;oBAACgE,SAAS,EAAC,eAAe;oBAACQ,EAAE,EAAE,YAAY1D,MAAM,EAAG;oBAAAmD,QAAA,EAAC;kBAE1D;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eACLjE,OAAA;kBAAA4D,QAAA,eACE5D,OAAA;oBAAM2D,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAC;kBAAU;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/C,CAAC,eACLjE,OAAA;kBAAA4D,QAAA,eACE5D,OAAA;oBAAI2D,SAAS,EAAC;kBAAkB;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjC,CAAC,eACLjE,OAAA;kBAAA4D,QAAA,eACE5D,OAAA;oBAAQ2D,SAAS,EAAC,eAAe;oBAACe,OAAO,EAAErB,MAAO;oBAAAO,QAAA,EAAC;kBAEnD;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACP,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,gBAELjE,OAAA;cAAI2D,SAAS,EAAC,UAAU;cAAAC,QAAA,eACtB5D,OAAA,CAACL,IAAI;gBAACgE,SAAS,EAAC,UAAU;gBAACQ,EAAE,EAAC,QAAQ;gBAAAP,QAAA,EAAC;cAEvC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CACL;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNjE,OAAA,CAACJ,MAAM;MAAAgE,QAAA,eACL5D,OAAA,CAACH,KAAK;QAAC8E,IAAI,EAAC,cAAc;QAACC,OAAO,eAAE5E,OAAA,CAACF,WAAW;UAAAgE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC/D,EAAA,CA3NID,cAAc;EAAA,QACDP,WAAW;AAAA;AAAAmF,EAAA,GADxB5E,cAAc;AA6NpB,eAAeA,cAAc;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}